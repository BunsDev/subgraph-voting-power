type User @entity {
  id: ID! # address
  voteWeight: BigInt!
  gno: BigInt!
  mgno: BigInt!
  lgno: BigInt!
  deposit: BigInt!
  positions: [AMMPosition!]! @derivedFrom(field: "user")
}

type AMMPair @entity {
  id: ID! # address
  gnoIsFirst: Boolean!
  otherTokenDecimals: Int!
  sqrtRatio: BigDecimal!
  otherToken: ID! # address
  positions: [AMMPosition!]! @derivedFrom(field: "pair")
}

type AMMPosition @entity {
  id: ID! # <PAIR_ADDRESS>-<USER_ADDRESS>-<LOWER_BOUND>-<UPPER_BOUND>
  user: User!
  pair: AMMPair!
  liquidity: BigInt!
  lowerTick: BigInt!
  upperTick: BigInt!
}
