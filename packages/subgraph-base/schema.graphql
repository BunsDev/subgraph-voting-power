type User @entity {
  id: ID! # address
  voteWeight: BigInt!
  gno: BigInt!
  mgno: BigInt!
  lgno: BigInt!
  deposit: BigInt!
  positions: [AMMPosition!]! @derivedFrom(field: "user")
}

type AMMPair @entity {
  id: ID! # address
  sqrtRatio: BigDecimal!
  gnoIsFirst: Boolean!
  positions: [AMMPosition!]! @derivedFrom(field: "pair")
}

type AMMPosition @entity {
  id: ID! # <PAIR_ADDRESS>-<USER_ADDRESS> or <PAIR_ADDRESS>-<TOKEN_ID> for UniV3
  user: User!
  pair: AMMPair!
  liquidity: BigInt!
  lowerTick: BigInt!
  upperTick: BigInt!
}
